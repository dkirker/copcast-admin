<div class="segments">
  <div class="selected line" style="left: {{selectedPosition}}px;">
    <img src="assets/images/scrubber.png">
  </div>
  <div class="date segments" ng-repeat="activitiesByHour in activitiesByDay.getSortedArray()">
    <!--
    <div class="start segment" ng-if="$first">
      <div class="line"></div>
    </div>
    -->

    <div class="gap segment">
      <div class="first date" ng-bind-html="$first ? '' : getPreviousDateLabel(activitiesByHour.day)"></div>
      <div class="last date" ng-bind-html="getCurrentDateLabel(activitiesByHour.day)"></div>
      <div class="line"></div>
      <div class="box"></div>
    </div>

    <timeline-segment
      activities="activities"
      hour="activities.hour"
      day="activitiesByHour.day"
      incidents-by-day="userData.incidentsByDay"
      last="$last"
      ng-repeat="activities in activitiesByHour.getSortedArray()">
    </timeline-segment>

    <div class="end segment" ng-if="$last">
      <div class="line"></div>
    </div>
  </div>
</div>
